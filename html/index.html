<html>
<head>
<title>Fiat lux!</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<link rel="stylesheet" href="css/bootstrap.min.css" >
<script src="css/jquery.min.js"></script>
<script src="css/popper.min.js"></script>
<script src="css/bootstrap.min.js"></script>

<script type="text/javascript">
    function light(button){
	var buttons = [0, 96, 120, 24, 80, 48, 108, 12, 72, 40, 106];
	$.ajax({url: 'cgi-bin/livolo.sh?button=' + buttons[button]});
	console.log(buttons[button]);
    }

    function powerOn(){ 
	$.ajax({url: 'cgi-bin/poweron.sh'});
    }

    function lightOutside(button){
	$.ajax({url: 'cgi-bin/lightOutside.sh?button='+ button});
    }

    function relay(pin, state){ 
	$.ajax({url: 'cgi-bin/relay.sh?pin=' + pin + '&state=' + state});
    }

    function getTemp(){
	$.getJSON("cgi-bin/temperature.sh",
		function(response){
		console.log(response);
		document.getElementById("temp").innerHTML = response.temp + "&#x2103";
		} 
	);
}

    function updateTemp(){
	document.getElementById("temp").innerHTML = "23.75" + "&#x2103";
    }

    window.onload = getTemp;

</script>
</head>

<body>

<div class="container-fluid">
    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-primary btn-lg btn-block" onClick=powerOn()>Computer <span id="temp" class="badge">00.00 &#x2103;</span></button> </div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(0) >Living 1</button> </div>
	<div class="col-md-3"></div>
    </div>

    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(1)>Living 2</button> </div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(2)>Living 3</button> </div>
	<div class="col-md-3"></div>
    </div>

    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(3) >Terasa</button> </div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(4)>Bucatarie</button> </div>
	<div class="col-md-3"></div>
    </div>

    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(5) >Hol jos</button> </div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(9) >Hol sus</button> </div>
	<div class="col-md-3"></div>
    </div>

    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(6)>Vestibul inauntru</button> </div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(7) >Vestibul afara</button> </div>
	<div class="col-md-3"></div>
    </div>

    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=light(8) >Birou</button> </div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-warning btn-lg btn-block" onClick=light(10) >All off</button> </div>
	<div class="col-md-3"></div>
    </div>

    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-3 col-md-1"><br/> <button type="button" class="btn btn-success btn-lg btn-block" onClick=relay(2,1) >2 ON</button> </div>
	<div class="col-md-1"></div>
	<div class="col-xs-3 col-md-1"><br/> <button type="button" class="btn btn-danger  btn-lg btn-block" onClick=relay(2,0) >2 OFF</button> </div>
	<div class="col-xs-3 col-md-1"><br/> <button type="button" class="btn btn-success btn-lg btn-block" onClick=relay(3,1) >3 ON</button> </div>
	<div class="col-md-1"></div>
	<div class="col-xs-3 col-md-1"><br/> <button type="button" class="btn btn-danger  btn-lg btn-block" onClick=relay(3,0) >3 OFF</button> </div>
	<div class="col-md-3"></div>
    </div>

    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-3 col-md-1"><br/> <button type="button" class="btn btn-success btn-lg btn-block" onClick=relay(4,1) >4 ON</button> </div>
	<div class="col-md-1"></div>
	<div class="col-xs-3 col-md-1"><br/> <button type="button" class="btn btn-danger  btn-lg btn-block" onClick=relay(4,0) >4 OFF</button> </div>
	<div class="col-xs-3 col-md-1"><br/> <button type="button" class="btn btn-success btn-lg btn-block" onClick=relay(6,1) >P ON</button> </div>
	<div class="col-md-1"></div>
	<div class="col-xs-3 col-md-1"><br/> <button type="button" class="btn btn-danger  btn-lg btn-block" onClick=relay(6,0) >P OFF</button> </div>
	<div class="col-md-3"></div>
    </div>

    <div class="row">
	<div class="col-md-3"></div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-info btn-lg btn-block" onClick=relay(5,1) >Gradin ON</button> </div>
	<div class="col-xs-6 col-md-3"><br/> <button type="button" class="btn btn-warning btn-lg btn-block" onClick=relay(5,0) >Gradina OFF</button> </div>
	<div class="col-md-3"></div>
    </div>
</div>

</body>
</html>